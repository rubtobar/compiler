00001044 Starting Address
Assembler used: EASy68K Editor/Assembler v5.15.04
Created On: 18/6/2018 23:04:19

00001000                             1      ORG $1000
00001000  =00000001                  2      TRUE:   EQU 1
00001000  =00000000                  3      FALSE:  EQU 0
00001000                             4  WRITE_STRING:
00001000                             5      ;Do the print
00001000  700E                       6      move.l #14, D0
00001002  43EF 0004                  7      lea 4(SP), A1
00001006  4E4F                       8      trap #15
00001008  103C 000B                  9      move.b #11, D0
0000100C  2207                      10      move.l D7, D1
0000100E  4E4F                      11      trap #15
00001010  5207                      12      addq.b #1, D7
00001012                            13      ;give control to caller
00001012  4E75                      14      rts
00001014                            15  WRITE_INT:
00001014                            16      ;Do the print
00001014  7003                      17      move.l #3, D0
00001016  222F 0004                 18      move.l 4(SP), D1
0000101A  4E4F                      19      trap #15
0000101C  103C 000B                 20      move.b #11, D0
00001020  2207                      21      move.l D7, D1
00001022  4E4F                      22      trap #15
00001024  5207                      23      addq.b #1, D7
00001026                            24      ;give control to caller
00001026  4E75                      25      rts
00001028                            26  READSTRING:
00001028                            27      ;Do the read
00001028  303C 0002                 28      move #2, D0
0000102C  224F                      29      movea.l SP, A1
0000102E  5889                      30      add.l #4,A1
00001030  4E4F                      31      trap #15
00001032  5207                      32      addq.b #1, D7
00001034                            33      ;give control to caller
00001034  4E75                      34      rts
00001036                            35  READINT:
00001036                            36      ;Do the read
00001036  303C 0004                 37      move #4, D0
0000103A  4E4F                      38      trap #15
0000103C  2F41 0004                 39      move.l D1, 4(SP)
00001040  5207                      40      addq.b #1, D7
00001042                            41      ;give control to caller
00001042  4E75                      42      rts
00001044                            43  START:
00001044                            44      ;Initialize line number
00001044  7E01                      45      move.l #1, D7
00001046                            46      ;A6 to index variables
00001046  2C4F                      47      move.l SP, A6
00001048                            48      ;A5 to index global variables
00001048  2A4F                      49      move.l SP, A5
0000104A                            50  
0000104A                            51      ;t#11 save space in Stack
0000104A  9FFC 00000020             52      sub.l #32, SP
00001050                            53      ;t#8 save space in Stack
00001050  9FFC 00000020             54      sub.l #32, SP
00001056                            55      ;t#9 save space in Stack
00001056  598F                      56      sub.l #4, SP
00001058                            57      ;t#10 save space in Stack
00001058  9FFC 00000020             58      sub.l #32, SP
0000105E                            59      ;goto: MAIN
0000105E  6000 0250                 60      BRA MAIN
00001062                            61  ;L0: skip
00001062                            62  L0:
00001062                            63      ;preambulo
00001062                            64      ;save BP
00001062  2F0E                      65      move.l A6, -(SP)
00001064                            66      ;set BP
00001064  2C4F                      67      move.l SP, A6
00001066                            68      ;save space for local vars
00001066  9FFC 0000000E             69      sub.l #14, SP
0000106C                            70  
0000106C                            71  ;L1: skip
0000106C                            72  L1:
0000106C                            73      ;t#0 = 0
0000106C  2D7C 00000000 FFFC        74      move.l #0, -4(A6)
00001074                            75  
00001074                            76      ;if n > t#0 goto L3
00001074  202E 0008                 77      move.l 8(A6), D0
00001078  B0AE FFFC                 78      cmp.l -4(A6), D0
0000107C  6E00 000C                 79      bgt.l L3
00001080                            80  
00001080                            81      ;t#1 = FALSE
00001080  3D7C 0000 FFFA            82      move.w #FALSE, -6(A6)
00001086                            83  
00001086                            84      ;goto: L4
00001086  6000 0008                 85      BRA L4
0000108A                            86  ;L3: skip
0000108A                            87  L3:
0000108A                            88      ;t#1 = TRUE
0000108A  3D7C 0001 FFFA            89      move.w #TRUE, -6(A6)
00001090                            90  
00001090                            91  ;L4: skip
00001090                            92  L4:
00001090                            93      ;if t#1 = FALSE goto L2
00001090  302E FFFA                 94      move.w -6(A6), D0
00001094  B07C 0000                 95      cmp.w #FALSE, D0
00001098  6700 0060                 96      beq.l L2
0000109C                            97  
0000109C                            98      ;param s
0000109C  9FFC 00000020             99      sub.l #32, SP
000010A2  2F6E 0028 0000           100      move.l 40(A6), 0(SP)
000010A8  2F6E 002C 0004           101      move.l 44(A6), 4(SP)
000010AE  2F6E 0030 0008           102      move.l 48(A6), 8(SP)
000010B4  2F6E 0034 000C           103      move.l 52(A6), 12(SP)
000010BA  2F6E 0038 0010           104      move.l 56(A6), 16(SP)
000010C0  2F6E 003C 0014           105      move.l 60(A6), 20(SP)
000010C6  2F6E 0040 0018           106      move.l 64(A6), 24(SP)
000010CC  2F6E 0044 001C           107      move.l 68(A6), 28(SP)
000010D2                           108  
000010D2                           109      ;call WRITE_STRING
000010D2  6100 FF2C                110      bsr.l WRITE_STRING
000010D6                           111      ;clean parameters
000010D6  DFFC 00000020            112      add.l #32, SP
000010DC                           113  
000010DC                           114      ;t#2 = 1
000010DC  2D7C 00000001 FFF6       115      move.l #1, -10(A6)
000010E4                           116  
000010E4                           117      ;t#3 = n - t#2
000010E4  202E 0008                118      move.l 8(A6), D0
000010E8  90AE FFF6                119      sub.l -10(A6), D0
000010EC  2D40 FFF2                120      move.l D0,-14(A6)
000010F0                           121  
000010F0                           122      ;n = t#3
000010F0  2D6E FFF2 0008           123      move.l -14(A6), 8(A6)
000010F6                           124  
000010F6                           125      ;goto: L1
000010F6  6000 FF74                126      BRA L1
000010FA                           127  ;L2: skip
000010FA                           128  L2:
000010FA                           129      ;return 
000010FA                           130      ;prepare SP
000010FA  2E4E                     131      move.l A6, SP
000010FC                           132      ;restore BP
000010FC  2C5F                     133      move.l (SP)+, A6
000010FE                           134      ;give control to caller
000010FE  4E75                     135      rts
00001100                           136  
00001100                           137  ;L5: skip
00001100                           138  L5:
00001100                           139      ;preambulo
00001100                           140      ;save BP
00001100  2F0E                     141      move.l A6, -(SP)
00001102                           142      ;set BP
00001102  2C4F                     143      move.l SP, A6
00001104                           144      ;save space for local vars
00001104  9FFC 00000088            145      sub.l #136, SP
0000110A                           146  
0000110A                           147      ;t#4 = "escriu una paraula"
0000110A  2D7C 65736372 FFE0       148      move.l #'escr', -32(A6)
00001112  2D7C 69752075 FFE4       149      move.l #'iu u', -28(A6)
0000111A  2D7C 6E612070 FFE8       150      move.l #'na p', -24(A6)
00001122  2D7C 61726175 FFEC       151      move.l #'arau', -20(A6)
0000112A  1D7C 006C FFF0           152      move.b #'l', -16(A6)
00001130  1D7C 0061 FFF1           153      move.b #'a', -15(A6)
00001136  1D7C 0000 FFF2           154      move.b #0, -14(A6)
0000113C                           155  
0000113C                           156      ;param t#4
0000113C  9FFC 00000020            157      sub.l #32, SP
00001142  2F6E FFE0 0000           158      move.l -32(A6), 0(SP)
00001148  2F6E FFE4 0004           159      move.l -28(A6), 4(SP)
0000114E  2F6E FFE8 0008           160      move.l -24(A6), 8(SP)
00001154  2F6E FFEC 000C           161      move.l -20(A6), 12(SP)
0000115A  2F6E FFF0 0010           162      move.l -16(A6), 16(SP)
00001160  2F6E FFF4 0014           163      move.l -12(A6), 20(SP)
00001166  2F6E FFF8 0018           164      move.l -8(A6), 24(SP)
0000116C  2F6E FFFC 001C           165      move.l -4(A6), 28(SP)
00001172                           166  
00001172                           167      ;call WRITE_STRING
00001172  6100 FE8C                168      bsr.l WRITE_STRING
00001176                           169      ;clean parameters
00001176  DFFC 00000020            170      add.l #32, SP
0000117C                           171  
0000117C                           172      ;READSTRING return space
0000117C  9FFC 00000020            173      sub.l #32, SP
00001182                           174  
00001182                           175      ;t#5 = call READSTRING
00001182  6100 FEA4                176      bsr.l READSTRING
00001186                           177      ;clean parameters
00001186  DFFC 00000000            178      add.l #0, SP
0000118C                           179      ;fetch return
0000118C  2D5F FFC0                180      move.l (SP)+, -64(A6)
00001190  2D5F FFC4                181      move.l (SP)+, -60(A6)
00001194  2D5F FFC8                182      move.l (SP)+, -56(A6)
00001198  2D5F FFCC                183      move.l (SP)+, -52(A6)
0000119C  2D5F FFD0                184      move.l (SP)+, -48(A6)
000011A0  2D5F FFD4                185      move.l (SP)+, -44(A6)
000011A4  2D5F FFD8                186      move.l (SP)+, -40(A6)
000011A8  2D5F FFDC                187      move.l (SP)+, -36(A6)
000011AC                           188  
000011AC                           189      ;par = t#5
000011AC  2D6E FFC0 FFA0           190      move.l -64(A6), -96(A6)
000011B2  2D6E FFC4 FFA4           191      move.l -60(A6), -92(A6)
000011B8  2D6E FFC8 FFA8           192      move.l -56(A6), -88(A6)
000011BE  2D6E FFCC FFAC           193      move.l -52(A6), -84(A6)
000011C4  2D6E FFD0 FFB0           194      move.l -48(A6), -80(A6)
000011CA  2D6E FFD4 FFB4           195      move.l -44(A6), -76(A6)
000011D0  2D6E FFD8 FFB8           196      move.l -40(A6), -72(A6)
000011D6  2D6E FFDC FFBC           197      move.l -36(A6), -68(A6)
000011DC                           198  
000011DC                           199      ;t#6 = "quantes vegades vols?"
000011DC  2D7C 7175616E FF80       200      move.l #'quan', -128(A6)
000011E4  2D7C 74657320 FF84       201      move.l #'tes ', -124(A6)
000011EC  2D7C 76656761 FF88       202      move.l #'vega', -120(A6)
000011F4  2D7C 64657320 FF8C       203      move.l #'des ', -116(A6)
000011FC  2D7C 766F6C73 FF90       204      move.l #'vols', -112(A6)
00001204  1D7C 003F FF94           205      move.b #'?', -108(A6)
0000120A  1D7C 0000 FF95           206      move.b #0, -107(A6)
00001210                           207  
00001210                           208      ;param t#6
00001210  9FFC 00000020            209      sub.l #32, SP
00001216  2F6E FF80 0000           210      move.l -128(A6), 0(SP)
0000121C  2F6E FF84 0004           211      move.l -124(A6), 4(SP)
00001222  2F6E FF88 0008           212      move.l -120(A6), 8(SP)
00001228  2F6E FF8C 000C           213      move.l -116(A6), 12(SP)
0000122E  2F6E FF90 0010           214      move.l -112(A6), 16(SP)
00001234  2F6E FF94 0014           215      move.l -108(A6), 20(SP)
0000123A  2F6E FF98 0018           216      move.l -104(A6), 24(SP)
00001240  2F6E FF9C 001C           217      move.l -100(A6), 28(SP)
00001246                           218  
00001246                           219      ;call WRITE_STRING
00001246  6100 FDB8                220      bsr.l WRITE_STRING
0000124A                           221      ;clean parameters
0000124A  DFFC 00000020            222      add.l #32, SP
00001250                           223  
00001250                           224      ;READINT return space
00001250  598F                     225      sub.l #4, SP
00001252                           226  
00001252                           227      ;t#7 = call READINT
00001252  6100 FDE2                228      bsr.l READINT
00001256                           229      ;clean parameters
00001256  DFFC 00000000            230      add.l #0, SP
0000125C                           231      ;fetch return
0000125C  2D5F FF7C                232      move.l (SP)+, -132(A6)
00001260                           233  
00001260                           234      ;n = t#7
00001260  2D6E FF7C FF78           235      move.l -132(A6), -136(A6)
00001266                           236  
00001266                           237      ;param par
00001266  9FFC 00000020            238      sub.l #32, SP
0000126C  2F6E FFA0 0000           239      move.l -96(A6), 0(SP)
00001272  2F6E FFA4 0004           240      move.l -92(A6), 4(SP)
00001278  2F6E FFA8 0008           241      move.l -88(A6), 8(SP)
0000127E  2F6E FFAC 000C           242      move.l -84(A6), 12(SP)
00001284  2F6E FFB0 0010           243      move.l -80(A6), 16(SP)
0000128A  2F6E FFB4 0014           244      move.l -76(A6), 20(SP)
00001290  2F6E FFB8 0018           245      move.l -72(A6), 24(SP)
00001296  2F6E FFBC 001C           246      move.l -68(A6), 28(SP)
0000129C                           247  
0000129C                           248      ;param n
0000129C  2F2E FF78                249      move.l -136(A6), -(SP)
000012A0                           250  
000012A0                           251      ;call L0
000012A0  6100 FDC0                252      bsr.l L0
000012A4                           253      ;clean parameters
000012A4  DFFC 00000024            254      add.l #36, SP
000012AA                           255  
000012AA                           256      ;return 
000012AA                           257      ;prepare SP
000012AA  2E4E                     258      move.l A6, SP
000012AC                           259      ;restore BP
000012AC  2C5F                     260      move.l (SP)+, A6
000012AE                           261      ;give control to caller
000012AE  4E75                     262      rts
000012B0                           263  
000012B0                           264  ;MAIN: skip
000012B0                           265  MAIN:
000012B0                           266      ;t#8 = "----Multiprint----"
000012B0  2B7C 2D2D2D2D FFE0       267      move.l #'----', -32(A5)
000012B8  2B7C 4D756C74 FFE4       268      move.l #'Mult', -28(A5)
000012C0  2B7C 69707269 FFE8       269      move.l #'ipri', -24(A5)
000012C8  2B7C 6E742D2D FFEC       270      move.l #'nt--', -20(A5)
000012D0  1B7C 002D FFF0           271      move.b #'-', -16(A5)
000012D6  1B7C 002D FFF1           272      move.b #'-', -15(A5)
000012DC  1B7C 0000 FFF2           273      move.b #0, -14(A5)
000012E2                           274  
000012E2                           275      ;param t#8
000012E2  9FFC 00000020            276      sub.l #32, SP
000012E8  2F6D FFE0 0000           277      move.l -32(A5), 0(SP)
000012EE  2F6D FFE4 0004           278      move.l -28(A5), 4(SP)
000012F4  2F6D FFE8 0008           279      move.l -24(A5), 8(SP)
000012FA  2F6D FFEC 000C           280      move.l -20(A5), 12(SP)
00001300  2F6D FFF0 0010           281      move.l -16(A5), 16(SP)
00001306  2F6D FFF4 0014           282      move.l -12(A5), 20(SP)
0000130C  2F6D FFF8 0018           283      move.l -8(A5), 24(SP)
00001312  2F6D FFFC 001C           284      move.l -4(A5), 28(SP)
00001318                           285  
00001318                           286      ;call WRITE_STRING
00001318  6100 FCE6                287      bsr.l WRITE_STRING
0000131C                           288      ;clean parameters
0000131C  DFFC 00000020            289      add.l #32, SP
00001322                           290  
00001322                           291      ;t#10 = "hola"
00001322  2B7C 686F6C61 FFBC       292      move.l #'hola', -68(A5)
0000132A  1B7C 0000 FFC0           293      move.b #0, -64(A5)
00001330                           294  
00001330                           295      ;t#9 = 3
00001330  2B7C 00000003 FFDC       296      move.l #3, -36(A5)
00001338                           297  
00001338                           298      ;param t#10
00001338  9FFC 00000020            299      sub.l #32, SP
0000133E  2F6D FFBC 0000           300      move.l -68(A5), 0(SP)
00001344  2F6D FFC0 0004           301      move.l -64(A5), 4(SP)
0000134A  2F6D FFC4 0008           302      move.l -60(A5), 8(SP)
00001350  2F6D FFC8 000C           303      move.l -56(A5), 12(SP)
00001356  2F6D FFCC 0010           304      move.l -52(A5), 16(SP)
0000135C  2F6D FFD0 0014           305      move.l -48(A5), 20(SP)
00001362  2F6D FFD4 0018           306      move.l -44(A5), 24(SP)
00001368  2F6D FFD8 001C           307      move.l -40(A5), 28(SP)
0000136E                           308  
0000136E                           309      ;param t#9
0000136E  2F2D FFDC                310      move.l -36(A5), -(SP)
00001372                           311  
00001372                           312      ;call L0
00001372  6100 FCEE                313      bsr.l L0
00001376                           314      ;clean parameters
00001376  DFFC 00000024            315      add.l #36, SP
0000137C                           316  
0000137C                           317      ;t#11 = "Adeu!"
0000137C  2B7C 41646575 FF9C       318      move.l #'Adeu', -100(A5)
00001384  1B7C 0021 FFA0           319      move.b #'!', -96(A5)
0000138A  1B7C 0000 FFA1           320      move.b #0, -95(A5)
00001390                           321  
00001390                           322      ;param t#11
00001390  9FFC 00000020            323      sub.l #32, SP
00001396  2F6D FF9C 0000           324      move.l -100(A5), 0(SP)
0000139C  2F6D FFA0 0004           325      move.l -96(A5), 4(SP)
000013A2  2F6D FFA4 0008           326      move.l -92(A5), 8(SP)
000013A8  2F6D FFA8 000C           327      move.l -88(A5), 12(SP)
000013AE  2F6D FFAC 0010           328      move.l -84(A5), 16(SP)
000013B4  2F6D FFB0 0014           329      move.l -80(A5), 20(SP)
000013BA  2F6D FFB4 0018           330      move.l -76(A5), 24(SP)
000013C0  2F6D FFB8 001C           331      move.l -72(A5), 28(SP)
000013C6                           332  
000013C6                           333      ;call WRITE_STRING
000013C6  6100 FC38                334      bsr.l WRITE_STRING
000013CA                           335      ;clean parameters
000013CA  DFFC 00000020            336      add.l #32, SP
000013D0                           337  
000013D0                           338      ;Terminate program
000013D0  303C 0009                339      move #9,D0
000013D4  4E4F                     340      trap #15
000013D6                           341  
000013D6  FFFF FFFF                342      SIMHALT
000013DA                           343  
000013DA                           344  
000013DA                           345  
000013DA                           346      END START

No errors detected
No warnings generated


SYMBOL TABLE INFORMATION
Symbol-name         Value
-------------------------
FALSE               0
L0                  1062
L1                  106C
L2                  10FA
L3                  108A
L4                  1090
L5                  1100
MAIN                12B0
READINT             1036
READSTRING          1028
START               1044
TRUE                1
WRITE_INT           1014
WRITE_STRING        1000
